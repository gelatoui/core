/* Dropdown container positioning */
.dropdown-container {
  position: relative;
  display: inline-block; /* Ensures container takes content width */
}

.dropdown-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--tokens-background-overlay-on-light);
  z-index: 999;
}

/* The dropdown content is hidden when closed to avoid taking up space */
.dropdown-content {
  position: absolute;
  z-index: 1000;
  background: var(--tokens-background-base-surface-1);
  border: 1px solid var(--tokens-input-stroke-default);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  border-radius: var(--border-radius-100);
  padding: var(--spacing-150);
  transition: opacity 0.3s ease, transform 0.3s ease;
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  display: none;
  flex-direction: column;
  min-width: max-content; /* Ensures content is not cut off */
}

/* When open, show the dropdown with a smooth fade/slide */
.dropdown-content.open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
  display: flex; /* Changed to flex for better content handling */
}

/* Side positioning adjustments */
.dropdown-content.start {
  left: 0;
  top: calc(100% + var(--spacing-100));
}

.dropdown-content.end {
  right: 0;
  top: calc(100% + var(--spacing-100));
}

/* Added left and right positioning */
.dropdown-content.left {
  right: calc(100% + var(--spacing-100));
  top: 0;
}

.dropdown-content.right {
  left: calc(100% + var(--spacing-100));
  top: 0;
}

/* Size adjustments */
.dropdown-content.cover {
  width: 100%;
}

.dropdown-content.auto {
  width: auto; /* Auto width based on content */
}

/* Arrow styling - positioned correctly for each side */
.dropdown-arrow {
  position: absolute;
  width: 10px;
  height: 10px;
  background: var(--tokens-background-base-surface-1);
  border: 1px solid var(--tokens-input-stroke-default);
  transform: rotate(45deg);
  z-index: -1;
}

/* Position arrow based on side */
.dropdown-content.start .dropdown-arrow {
  top: -6px; /* Half of arrow height */
  left: 20px;
  border-right: none;
  border-bottom: none;
}

.dropdown-content.end .dropdown-arrow {
  top: -6px; /* Half of arrow height */
  right: 20px;
  border-right: none;
  border-bottom: none;
}

.dropdown-content.left .dropdown-arrow {
  top: 15px;
  right: -6px; /* Half of arrow width */
  border-left: none;
  border-bottom: none;
}

.dropdown-content.right .dropdown-arrow {
  top: 15px;
  left: -6px; /* Half of arrow width */
  border-top: none;
  border-right: none;
}

/* Gap between items in the dropdown */
.dropdown-content ::slotted(*) {
  margin: var(--spacing-50) 0;
  width: 100%;
}

/* Make first and last items have no margin */
.dropdown-content ::slotted(:first-child) {
  margin-top: 0;
}

.dropdown-content ::slotted(:last-child) {
  margin-bottom: 0;
}
